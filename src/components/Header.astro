---
import ThemeToggle from './ThemeToggle.astro';
import SearchBar from './SearchBar.astro';
import LogoIcon from './LogoIcon.astro';
---
<header class="bg-black/80 backdrop-blur-md border-b border-neon-green/30 sticky top-0 z-50">
  <div class="max-w-6xl mx-auto px-4 flex items-center justify-between h-16">
    <!-- Logo -->
    <a href="/my-blog/" class="flex items-center space-x-3 group">
      <div class="w-12 h-12">
        <LogoIcon />
      </div>
      <span class="font-bold text-2xl neon-logo group-hover:neon-logo transition-all duration-300">
        MR.FENG
      </span>
    </a>
    
    <!-- 导航菜单 -->
    <nav class="hidden md:flex items-center space-x-8">
      <a href="/my-blog/" class="text-white hover:neon-text transition-all duration-300 font-semibold uppercase tracking-wider text-sm">
        首页
      </a>
      <a href="/my-blog/categories" class="text-white hover:neon-text transition-all duration-300 font-semibold uppercase tracking-wider text-sm">
        分类
      </a>
      <a href="/my-blog/tags" class="text-white hover:neon-text transition-all duration-300 font-semibold uppercase tracking-wider text-sm">
        标签
      </a>
      <a href="/my-blog/about" class="text-white hover:neon-text transition-all duration-300 font-semibold uppercase tracking-wider text-sm">
        关于
      </a>
    </nav>
    
    <!-- 右侧工具栏 -->
    <div class="flex items-center space-x-4">
      <SearchBar />
      <ThemeToggle />
      
      <!-- 移动端菜单按钮 -->
      <button class="md:hidden p-2 text-white hover:neon-text transition-all duration-300" id="mobile-menu-btn">
        <div class="w-6 h-0.5 bg-current mb-1 transition-all duration-300"></div>
        <div class="w-6 h-0.5 bg-current mb-1 transition-all duration-300"></div>
        <div class="w-6 h-0.5 bg-current transition-all duration-300"></div>
      </button>
    </div>
  </div>
  
  <!-- 移动端菜单 -->
  <div class="md:hidden bg-black/90 backdrop-blur-md border-t border-neon-green/30 hidden" id="mobile-menu">
    <div class="px-4 py-6 space-y-4">
      <a href="/my-blog/" class="block text-white hover:neon-text transition-all duration-300 py-3 font-semibold uppercase tracking-wider">首页</a>
      <a href="/my-blog/categories" class="block text-white hover:neon-text transition-all duration-300 py-3 font-semibold uppercase tracking-wider">分类</a>
      <a href="/my-blog/tags" class="block text-white hover:neon-text transition-all duration-300 py-3 font-semibold uppercase tracking-wider">标签</a>
      <a href="/my-blog/about" class="block text-white hover:neon-text transition-all duration-300 py-3 font-semibold uppercase tracking-wider">关于</a>
    </div>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const menuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    menuBtn?.addEventListener('click', () => {
      mobileMenu?.classList.toggle('hidden');
      
      // 动画效果
      const lines = menuBtn.querySelectorAll('div');
      if (mobileMenu?.classList.contains('hidden')) {
        lines[0].style.transform = 'rotate(0deg)';
        lines[1].style.opacity = '1';
        lines[2].style.transform = 'rotate(0deg)';
      } else {
        lines[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
        lines[1].style.opacity = '0';
        lines[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
      }
    });
  });
</script> 