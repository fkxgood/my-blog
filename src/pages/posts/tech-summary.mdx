---
layout: ../../layouts/PostLayout.astro
title: æˆ‘çš„ Astro åšå®¢æŠ˜è…¾è®°å½• â€”â€” ä»é€‰å‹åˆ°ä¸Šçº¿çš„å…¨è¿‡ç¨‹
date: 2024-12-28
category: å‰ç«¯å¼€å‘
description: è®°å½•ä¸€ä¸‹ç”¨ Astro + TailwindCSS æ­å»ºä¸ªäººåšå®¢çš„æ•´ä¸ªè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ä¸ºå•¥é€‰ Astroã€æ€ä¹ˆå­¦çš„ã€GitHub Pages è¸©å‘ç»å†ï¼Œç»™æƒ³æ­åšå®¢çš„æœ‹å‹ä¸€äº›å‚è€ƒ
tags:
  - Astro
  - TailwindCSS
  - GitHub Pages
  - åšå®¢æ­å»º
  - å‰ç«¯æ¡†æ¶
author: fkxgood
---

# æˆ‘çš„ Astro åšå®¢æŠ˜è…¾è®°å½• â€”â€” ä»é€‰å‹åˆ°ä¸Šçº¿çš„å…¨è¿‡ç¨‹

> æœ€è¿‘èŠ±äº†ç‚¹æ—¶é—´ç”¨ Astro + TailwindCSS æ­äº†ä¸ªä¸ªäººåšå®¢ï¼Œè¸©äº†ä¸å°‘å‘ä¹Ÿå­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ã€‚æƒ³ç€æŠŠæ•´ä¸ªè¿‡ç¨‹è®°å½•ä¸‹æ¥ï¼Œç»™æƒ³æ­åšå®¢çš„æœ‹å‹ä¸€äº›å‚è€ƒã€‚

## ğŸ¤” ä¸ºä»€ä¹ˆé€‰ Astroï¼Ÿå’Œå…¶ä»–æ¡†æ¶æ¯”äº†æ¯”

ä¸€å¼€å§‹æˆ‘ä¹Ÿçº ç»“ç”¨ä»€ä¹ˆæ¡†æ¶ï¼Œæ¯•ç«Ÿç°åœ¨é€‰æ‹©å¤ªå¤šäº†ã€‚ç®€å•å¯¹æ¯”äº†å‡ ä¸ªä¸»æµçš„ï¼š

| æ¡†æ¶ | ç”¨èµ·æ¥å’‹æ · | æœ‰å•¥é—®é¢˜ | é€‚åˆå•¥åœºæ™¯ |
|------|----------|----------|-----------|
| **VuePress** | Vue å…¨å®¶æ¡¶ï¼Œæ’ä»¶å¤šï¼Œæ–‡æ¡£é½å…¨ | æ‰“åŒ…æ…¢ï¼Œä½“ç§¯å¤§ï¼Œå‡çº§ Vue 3 éº»çƒ¦ | å†™æŠ€æœ¯æ–‡æ¡£ç‰¹åˆ«å¥½ç”¨ |
| **VitePress** | åŸºäº Vite è´¼å¿«ï¼ŒVue 3 åŸç”Ÿæ”¯æŒ | ç›¸å¯¹æ¯”è¾ƒæ–°ï¼Œæ’ä»¶å°‘ï¼Œè‡ªå®šä¹‰éº»çƒ¦ | ç°ä»£åŒ–æ–‡æ¡£ç«™ç‚¹ |
| **Astro** | æ”¯æŒå¤šæ¡†æ¶ï¼ŒIslands æ¶æ„ç‰›é€¼ï¼Œå‡ ä¹é›¶ JS | å­¦ä¹ æˆæœ¬é«˜ï¼Œç”Ÿæ€è¿˜åœ¨å‘å±•ï¼Œè°ƒè¯•æœ‰ç‚¹çƒ¦ | å†…å®¹ç«™ç‚¹ï¼Œå¯¹æ€§èƒ½è¦æ±‚é«˜çš„ |

### æœ€åé€‰ Astro çš„å‡ ä¸ªç†ç”±

**ğŸš€ æ€§èƒ½çœŸçš„å¥½**
```javascript
// Astro çš„ Islands æ¶æ„ - åªæœ‰éœ€è¦äº¤äº’çš„åœ°æ–¹æ‰ä¼šåŠ è½½ JS
---
// è¿™éƒ¨åˆ†æ˜¯é™æ€çš„ï¼Œä¸ä¼šäº§ç”Ÿ JS
import Header from '../components/Header.astro';
import SearchBar from '../components/SearchBar.astro'; // åªæœ‰æœç´¢åŠŸèƒ½éœ€è¦ JS
---
```

**ğŸ”§ æŠ€æœ¯æ ˆå¾ˆçµæ´»**
- æƒ³ç”¨ Reactã€Vueã€Svelte éƒ½è¡Œï¼Œå¯ä»¥æ··ç€ç”¨
- ä»é™æ€ HTML å¼€å§‹ï¼Œéœ€è¦äº¤äº’å†åŠ  JS
- MDX æ”¯æŒï¼šèƒ½åœ¨ Markdown é‡Œç”¨ JSX ç»„ä»¶ï¼Œçˆ½ï¼

**ğŸ“¦ æ‰“åŒ…ç»“æœå¾ˆå¹²å‡€**
- é»˜è®¤è¾“å‡ºçº¯ HTMLï¼Œå‡ ä¹æ²¡æœ‰ JavaScript
- è‡ªåŠ¨ä»£ç åˆ†å‰²å’Œä¼˜åŒ–
- Lighthouse è¯„åˆ†è½»æ¾æ»¡åˆ†

## ğŸ¨ å­¦ Astro çš„ä¸€äº›å¿ƒå¾—

### å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µææ¸…æ¥šå°±è¡Œ

**1. Islands æ¶æ„ï¼ˆè¿™ä¸ªæ¦‚å¿µæŒºé‡è¦çš„ï¼‰**
```astro
---
// æœåŠ¡ç«¯å¤„ç†æ•°æ®
const posts = await Astro.glob('./posts/*.mdx');
---

<!-- é™æ€ HTML éƒ¨åˆ† -->
<div class="posts">
  {posts.map(post => (
    <article>
      <h2>{post.frontmatter.title}</h2>
      <!-- åªæœ‰æœç´¢æ¡†ä¼šåœ¨æµè§ˆå™¨ç«¯æ¿€æ´» -->
      <SearchBar client:load />
    </article>
  ))}
</div>
```

**2. æ–‡ä»¶è·¯ç”±ï¼ˆè¶…ç®€å•ï¼‰**
```
src/pages/
â”œâ”€â”€ index.astro          # é¦–é¡µ /
â”œâ”€â”€ about.astro          # å…³äºé¡µ /about
â”œâ”€â”€ categories.astro     # åˆ†ç±»é¡µ /categories
â”œâ”€â”€ tags.astro          # æ ‡ç­¾é¡µ /tags
â”œâ”€â”€ posts/              # åšå®¢æ–‡ç«  /posts/*
â”‚   â”œâ”€â”€ hello-astro.mdx
â”‚   â””â”€â”€ typescript-tips.mdx
â””â”€â”€ search.json.js      # API æ¥å£ /search.json
```

**3. ç»„ä»¶å†™æ³•ï¼ˆå’Œ Vue æœ‰ç‚¹åƒï¼‰**
```astro
---
// é€»è¾‘éƒ¨åˆ†
interface Props {
  title: string;
  category?: string;
}

const { title, category } = Astro.props;
---

<!-- æ¨¡æ¿éƒ¨åˆ† -->
<article class="dark-card">
  <h2>{title}</h2>
  {category && <span class="category">{category}</span>}
</article>

<!-- æ ·å¼éƒ¨åˆ†ï¼Œåªä½œç”¨äºè¿™ä¸ªç»„ä»¶ -->
<style>
  .dark-card {
    background: rgba(0, 0, 0, 0.8);
    border: 1px solid #10b981;
  }
</style>
```

### è¸©è¿‡çš„ä¸€äº›å‘

**1. MDX å’Œæ•°æ®ç»“åˆ**
```mdx
---
layout: ../../layouts/PostLayout.astro
title: æˆ‘çš„æŠ€æœ¯æ–‡ç« 
date: 2024-01-16
category: å‰ç«¯
tags: [React, TypeScript]
---

# æ–‡ç« å†…å®¹

è¿˜èƒ½åœ¨ Markdown é‡Œç›´æ¥ç”¨ç»„ä»¶ï¼š

<CodeBlock language="python">
def hello_world():
    print("Hello, Astro!")
</CodeBlock>
```

**2. æ•°æ®è·å–ï¼ˆæ„å»ºæ—¶å°±å¤„ç†å¥½äº†ï¼‰**
```javascript
// æ„å»ºçš„æ—¶å€™å°±æŠŠæ•°æ®å¤„ç†å¥½
const posts = await Astro.glob('./posts/*.mdx');
const sortedPosts = posts.sort((a, b) => 
  new Date(b.frontmatter.date) - new Date(a.frontmatter.date)
);

// è¿˜èƒ½åš API æ¥å£
export async function GET() {
  const searchIndex = posts.map(post => ({
    title: post.frontmatter.title,
    content: post.frontmatter.description,
    url: post.url
  }));
  
  return new Response(JSON.stringify(searchIndex));
}
```

## ğŸ¨ TailwindCSS ç”¨èµ·æ¥çœŸé¦™

### æ­äº†å¥—è‡ªå·±çš„è®¾è®¡ç³»ç»Ÿ

**é¢œè‰²ä¸»é¢˜**
```javascript
// tailwind.config.cjs
module.exports = {
  theme: {
    extend: {
      colors: {
        'neon-green': '#10b981',    // ä¸»è‰²è°ƒï¼Œç»¿è‰²
        'neon-blue': '#3b82f6',     // è“è‰²ç‚¹ç¼€
        'neon-red': '#ef4444',      // çº¢è‰²è­¦å‘Š
        'dark': {
          50: '#f8fafc',
          900: '#0f0f0f'
        }
      }
    }
  }
}
```

**ç»„ä»¶æ ·å¼å¤ç”¨**
```css
/* global.css - æŠŠå¸¸ç”¨æ ·å¼å°è£…æˆç±» */
@layer components {
  .dark-card {
    @apply bg-black/80 backdrop-blur-md border border-gray-700/50 
           hover:border-neon-green/40 transition-all duration-300;
  }
  
  .neon-text {
    @apply text-neon-green drop-shadow-lg;
    text-shadow: 0 0 10px #10b981;  /* å‘å…‰æ•ˆæœ */
  }
  
  .dark-btn {
    @apply bg-neon-green/20 border-2 border-neon-green 
           text-neon-green hover:bg-neon-green hover:text-black
           transition-all duration-300 font-semibold;
  }
}
```

### TailwindCSS çš„å‡ ä¸ªå¥½å¤„

**1. å†™æ ·å¼è´¼å¿«**
```html
<!-- ä»¥å‰çš„å†™æ³• -->
<div class="hero-section">
  <h1 class="hero-title">æ ‡é¢˜</h1>
</div>

<!-- Tailwind çš„å†™æ³•ï¼Œç›´æ¥åœ¨ HTML é‡Œæå®š -->
<div class="py-20 text-center relative">
  <h1 class="text-6xl font-black neon-text mb-6 animate-slide-up">
    æ ‡é¢˜
  </h1>
</div>
```

**2. å“åº”å¼è¶…ç®€å•**
```html
<!-- æ‰‹æœºä¼˜å…ˆï¼Œç„¶åé€‚é…æ›´å¤§å±å¹• -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <article class="p-4 md:p-6 lg:p-8">å†…å®¹</article>
</div>
```

**3. ä¸»é¢˜åˆ‡æ¢**
```javascript
// æš—è‰²ä¸»é¢˜åˆ‡æ¢ï¼Œå‡ è¡Œä»£ç æå®š
function toggleTheme() {
  const theme = localStorage.getItem('theme') === 'dark' ? 'light' : 'dark';
  document.documentElement.classList.toggle('dark');
  localStorage.setItem('theme', theme);
}
```

## ğŸš€ GitHub Pages éƒ¨ç½²è¸©å‘è®°

### æ•´ä¸ªéƒ¨ç½²æµç¨‹

ä»æœ¬åœ°åˆ°çº¿ä¸Šçš„æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·ï¼š

```
æœ¬åœ°å†™ä»£ç  â†’ Git Push â†’ GitHub Actions è‡ªåŠ¨æ„å»º â†’ éƒ¨ç½²åˆ° GitHub Pages
```

### é‡åˆ°çš„å‘å’Œè§£å†³åŠæ³•

**ç¬¬ä¸€ä¸ªå‘ï¼šè·¯å¾„é…ç½®**

âŒ **ä¸€å¼€å§‹çš„é—®é¢˜**ï¼šéƒ¨ç½²ä¸Šå»æ‰€æœ‰é“¾æ¥éƒ½ 404
```javascript
// é”™è¯¯çš„é…ç½®
export default defineConfig({
  site: 'https://fkxgood.github.io/my-blog',
  // å¿˜äº†é…ç½® baseï¼Œå¯¼è‡´è·¯å¾„ä¸å¯¹
});
```

âœ… **è§£å†³åŠæ³•**ï¼šåŠ ä¸Š base é…ç½®
```javascript
// astro.config.mjs
export default defineConfig({
  site: 'https://fkxgood.github.io/my-blog',
  base: '/my-blog',  // è¿™ä¸ªå¾ˆé‡è¦ï¼
  output: 'static',
});
```

**ç¬¬äºŒä¸ªå‘ï¼šGitHub Actions é…ç½®**

ä¸€å¼€å§‹å„ç§æŠ¥é”™ï¼š
- pnpm ç‰ˆæœ¬ä¸åŒ¹é…
- å·¥ä½œç›®å½•æ‰¾ä¸åˆ°
- ç¼“å­˜é…ç½®æœ‰é—®é¢˜

æœ€åæå®šçš„é…ç½®ï¼š
```yaml
# .github/workflows/deploy.yml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 10  # å’Œæœ¬åœ°ç‰ˆæœ¬ä¿æŒä¸€è‡´å¾ˆé‡è¦
          
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          
      - name: Cache pnpm dependencies
        uses: actions/cache@v3
        with:
          path: ~/.pnpm-store
          key: ${{ runner.os }}-pnpm-${{ hashFiles('pnpm-lock.yaml') }}
          
      - name: Install dependencies
        run: pnpm install --frozen-lockfile
        
      - name: Build with Astro
        run: pnpm build
        
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: 'dist'

  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

**ç¬¬ä¸‰ä¸ªå‘ï¼šæ‰€æœ‰å†…éƒ¨é“¾æ¥éƒ½è¦æ”¹**

```html
<!-- ä¿®å¤å‰ï¼Œè¿™äº›é“¾æ¥éƒ½ä¼š 404 -->
<a href="/about">å…³äº</a>
<a href="/categories">åˆ†ç±»</a>

<!-- ä¿®å¤åï¼ŒåŠ ä¸Š base è·¯å¾„ -->
<a href="/my-blog/about">å…³äº</a>
<a href="/my-blog/categories">åˆ†ç±»</a>
```

### æœ€ç»ˆçš„æ€§èƒ½è¡¨ç°

éƒ¨ç½²å®Œæˆåçœ‹äº†ä¸‹æ€§èƒ½ï¼Œè¿˜æŒºæ»¡æ„çš„ï¼š

**Lighthouse è¯„åˆ†**
- ğŸš€ Performance: 100/100
- â™¿ Accessibility: 95/100
- ğŸ” SEO: 100/100
- ğŸ’¡ Best Practices: 100/100

## ğŸ“š æŠ€æœ¯æ ˆæ€»ç»“

### æœ€åé€‰å®šçš„æŠ€æœ¯æ ˆ

```json
{
  "æ¡†æ¶": "Astro 5.0.0",
  "æ ·å¼": "TailwindCSS 3.3.2", 
  "å†…å®¹": "MDX 4.0.0",
  "éƒ¨ç½²": "GitHub Pages + Actions",
  "åŒ…ç®¡ç†": "pnpm 10.13.1",
  "å¼€å‘å·¥å…·": "Cursor + GitHub Copilot"
}
```

### å®ç°çš„å‡ ä¸ªåŠŸèƒ½

**ğŸ” æœç´¢åŠŸèƒ½**
```javascript
// ç”¨ Fuse.js åšå®¢æˆ·ç«¯æœç´¢ï¼Œä½“éªŒä¸é”™
import Fuse from 'fuse.js';

const fuse = new Fuse(searchData, {
  keys: ['title', 'content', 'category', 'tags'],
  threshold: 0.3,
  ignoreLocation: true,
});
```

**ğŸ¨ ä¸»é¢˜åˆ‡æ¢**
```javascript
// åŸºäº localStorage çš„ä¸»é¢˜è®°å¿†
const theme = localStorage.getItem('theme') || 'dark';
document.documentElement.classList.toggle('dark', theme === 'dark');
```

**ğŸ“± å“åº”å¼è®¾è®¡**
```html
<!-- æ¡Œé¢å’Œç§»åŠ¨ç«¯å¯¼èˆªåˆ†å¼€å¤„ç† -->
<nav class="hidden md:flex items-center space-x-8">
  <!-- æ¡Œé¢ç«¯å¯¼èˆª -->
</nav>

<div class="md:hidden" id="mobile-menu">
  <!-- ç§»åŠ¨ç«¯èœå• -->
</div>
```

## ğŸ¯ æŠ˜è…¾å®Œçš„ä¸€äº›æ„Ÿå—

### å­¦åˆ°çš„ä¸œè¥¿

1. **Astro Islands æ¶æ„**ï¼šè¿™ä¸ªæ€è·¯æŒºæ–°é¢–çš„ï¼Œæ€§èƒ½ç¡®å®å¥½
2. **TailwindCSS çš„ä¾¿åˆ©æ€§**ï¼šåŸå­åŒ– CSS å†™èµ·æ¥çœŸçš„å¿«
3. **MDX çš„å¼ºå¤§**ï¼šMarkdown + JSX çš„ç»„åˆå¾ˆé¦™
4. **GitHub Actions**ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²çœå¿ƒå¤šäº†

### ç”¨èµ·æ¥çš„æ„Ÿå—

**å¥½çš„åœ°æ–¹**ï¼š
- ğŸš€ æ„å»ºé€Ÿåº¦å¿«å¾—é£èµ·ï¼ˆVite é©±åŠ¨ï¼‰
- ğŸ“ å†™æ–‡ç« ä½“éªŒå¾ˆå¥½ï¼ˆMDX æ”¯æŒï¼‰
- ğŸ¨ æ ·å¼å¼€å‘æ•ˆç‡é«˜ï¼ˆTailwind åŸå­åŒ–ï¼‰
- ğŸ”§ éƒ¨ç½²å®Œå…¨è‡ªåŠ¨åŒ–ï¼ˆGitHub Actionsï¼‰

**ä¸å¤ªçˆ½çš„åœ°æ–¹**ï¼š
- ğŸ› è°ƒè¯•æœ‰æ—¶å€™æ¯”è¾ƒéº»çƒ¦
- ğŸ“– Astro ç”Ÿæ€ç›¸å¯¹è¿˜æ˜¯å°ä¸€äº›
- ğŸ” TypeScript éœ€è¦é¢å¤–é…ç½®

### å‡ ä¸ªç»éªŒæ€»ç»“

1. **è·¯å¾„é…ç½®**ï¼š`site` å’Œ `base` å­—æ®µä¸€å®šè¦é…å¯¹
2. **ç‰ˆæœ¬ä¸€è‡´æ€§**ï¼šæœ¬åœ°å’Œ CI ç¯å¢ƒçš„åŒ…ç®¡ç†å™¨ç‰ˆæœ¬è¦ä¸€æ ·
3. **æ¸è¿›å¼å¼€å‘**ï¼šå…ˆæŠŠåŸºæœ¬åŠŸèƒ½åšå¥½ï¼Œå†åŠ äº¤äº’
4. **æ€§èƒ½ä¼˜å…ˆ**ï¼šèƒ½ç”¨é™æ€çš„å°±ä¸è¦ç”¨ JS

## ğŸ¤” æ€»ç»“ä¸€ä¸‹

è¿™æ¬¡ç”¨ Astro æ­åšå®¢æ•´ä½“ä½“éªŒè¿˜ä¸é”™ï¼Œè™½ç„¶è¸©äº†ä¸å°‘å‘ï¼ˆä¸»è¦æ˜¯éƒ¨ç½²é…ç½®ï¼‰ï¼Œä½†æœ€ç»ˆçš„æ•ˆæœæˆ‘è¿˜æŒºæ»¡æ„çš„ã€‚Astro çš„ Islands æ¶æ„ç¡®å®æ˜¯ä¸ªä¸é”™çš„æ€è·¯ï¼Œç‰¹åˆ«é€‚åˆåšå†…å®¹ç½‘ç«™ã€‚

å¦‚æœä½ ä¹Ÿæƒ³æ­ä¸ªäººåšå®¢ï¼Œæˆ‘è§‰å¾— Astro å€¼å¾—è¯•è¯•ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ ï¼š
- çœ‹é‡ç½‘ç«™æ€§èƒ½
- å–œæ¬¢å†™ Markdown
- æƒ³è¦ç°ä»£åŒ–çš„å¼€å‘ä½“éªŒ
- ä¸ä»‹æ„è¸©ç‚¹å°å‘

å¸Œæœ›è¿™ç¯‡è®°å½•å¯¹æƒ³æ­åšå®¢çš„æœ‹å‹æœ‰å¸®åŠ©ï¼æœ‰é—®é¢˜å¯ä»¥åœ¨ä¸‹é¢ç•™è¨€è®¨è®ºã€‚

> ğŸ’¡ **å°è´´å£«**ï¼šé€‰æŠ€æœ¯æ ˆçš„æ—¶å€™ï¼Œæ€§èƒ½å’Œå¼€å‘ä½“éªŒéƒ½å¾ˆé‡è¦ã€‚Astro åœ¨è¿™ä¸¤æ–¹é¢å¹³è¡¡å¾—ä¸é”™ã€‚ 